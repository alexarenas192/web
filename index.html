<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabla de Países y Población</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Necesario para gráficas -->
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            background-color: #f0f8ff;
            margin: 0;
            padding: 20px;
            text-align: center;
            box-sizing: border-box;
        }
        h2 {
            font-family: Arial, sans-serif;
            color: #003366;
            margin-bottom: 20px;
        }
        .table-container {
            width: 100%;
            max-height: 70vh; /* Altura máxima para mostrar la tabla con desplazamiento */
            overflow-y: auto;
            padding: 0 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            background: linear-gradient(135deg, #e0f7ff, #b3e5fc);
            border-radius: 8px;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }
        th, td {
            padding: 10px;
            text-align: center;
            border-bottom: 1px solid #e0e0e0;
        }
        th {
            background-color: #4fc3f7;
            color: white;
            font-weight: bold;
        }
        tbody tr:nth-child(odd) {
            background-color: #e3f2fd;
        }
        tbody tr:nth-child(even) {
            background-color: #bbdefb;
        }
        tbody tr:hover {
            background-color: #81d4fa;
            transition: background-color 0.3s ease;
        }
        .buttons-container {
            margin-top: 20px;
        }
        button {
            margin: 5px;
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            background-color: #4fc3f7;
            color: white;
            border: none;
            border-radius: 5px;
        }
        canvas {
            max-width: 600px;
            max-height: 400px;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <h2>Porcentaje de Población por País y Año</h2>

    <div class="buttons-container">
        <button onclick="calcularMedia()">Media</button>
        <button onclick="calcularMediana()">Mediana</button>
        <button onclick="calcularModa()">Moda</button>
        <button onclick="mostrarHistograma()">Histograma</button>
        <button onclick="mostrarHistogramaAcumulado()">Histograma Acumulado</button>
        <button onclick="mostrarGraficaPastel()">Gráfica de Pastel</button>
    </div>

    <div class="table-container">
        <table id="tabla-poblacion">
            <thead>
                <tr>
                    <th>País</th>
                    <th>Fecha</th>
                    <th>0-14 Años (%)</th>
                    <th>15-64 Años (%)</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>España</td><td>2024</td><td>13,05</td><td>56,35</td></tr>
                <tr><td>Alemania</td><td>2020</td><td>13,80</td><td>45,24</td></tr>
                <tr><td>Reino Unido</td><td>2018</td><td>17,92</td><td>56,64</td></tr>
                <tr><td>Francia</td><td>2020</td><td>17,65</td><td>43,24</td></tr>
                <tr><td>Italia</td><td>2020</td><td>12,89</td><td>55,64</td></tr>
                <tr><td>Portugal</td><td>2020</td><td>13,30</td><td>65,53</td></tr>
                <tr><td>Estados Unidos</td><td>2020</td><td>18,24</td><td>56,78</td></tr>
                <tr><td>Japón</td><td>2021</td><td>11,77</td><td>56,23</td></tr>
                <tr><td>China</td><td>2021</td><td>17,67</td><td>45,56</td></tr>
                <tr><td>Andorra</td><td>2021</td><td>11,69</td><td>63,25</td></tr>
                <tr><td>Emiratos</td><td>2023</td><td>15,14</td><td>56,32</td></tr>
                <tr><td>Afganistán</td><td>2021</td><td>43,42</td><td>46,42</td></tr>
                <tr><td>Antigua y Barbuda</td><td>2021</td><td>18,82</td><td>13,35</td></tr>
                <tr><td>Albania</td><td>2020</td><td>16,52</td><td>42,13</td></tr>
                <tr><td>Armenia</td><td>2021</td><td>20,20</td><td>34,46</td></tr>
                <tr><td>Angola</td><td>2020</td><td>45,18</td><td>66,35</td></tr>
                <tr><td>Argentina</td><td>2021</td><td>23,36</td><td>13,45</td></tr>
                <tr><td>Australia</td><td>2020</td><td>14,39</td><td>24,46</td></tr>
                <tr><td>Azerbaiyán</td><td>2021</td><td>18,37</td><td>64,46</td></tr>
                <tr><td>Bosnia</td><td>2021</td><td>22,34</td><td>64,56</td></tr>
                <tr><td>Barbados</td><td>2020</td><td>14,92</td><td>24,24</td></tr>
                <tr><td>Bangladés</td><td>2021</td><td>17,16</td><td>34,54</td></tr>
                <tr><td>Bélgica</td><td>2021</td><td>26,45</td><td>24,45</td></tr>
                <tr><td>Burkina</td><td>2021</td><td>16,75</td><td>56,32</td></tr>
                <tr><td>Bulgaria</td><td>2021</td><td>44,09</td><td>23,45</td></tr>
                <tr><td>Baréin</td><td>2021</td><td>15,29</td><td>54,44</td></tr>
                <tr><td>Burundi</td><td>2021</td><td>20,38</td><td>55,55</td></tr>
                <tr><td>Benín</td><td>2021</td><td>46,29</td><td>54,32</td></tr>
                <tr><td>Brunéi</td><td>2021</td><td>42,58</td><td>22,34</td></tr>
                <tr><td>Bolivia</td><td>2021</td><td>22,35</td><td>55,32</td></tr>
                <tr><td>Brasil</td><td>2021</td><td>31,12</td><td>23,45</td></tr>
                <tr><td>Bahamas</td><td>2021</td><td>20,54</td><td>43,35</td></tr>
                <tr><td>Bután</td><td>2021</td><td>19,62</td><td>25,24</td></tr>
                <tr><td>Botsuana</td><td>2021</td><td>22,80</td><td>53,35</td></tr>
                <tr><td>Belice</td><td>2021</td><td>32,91</td><td>25,54</td></tr>
                <tr><td>República Democrática del Congo</td><td>2023</td><td>16,92</td><td>24,56</td></tr>
                <tr><td>República del Congo</td><td>2021</td><td>28,24</td><td>65,43</td></tr>
                <tr><td>Costa de Marfil</td><td>2021</td><td>15,44</td><td>32,35</td></tr>
                <tr><td>Chile</td><td>2020</td><td>46,53</td><td>54,46</td></tr>
                <tr><td>Camerún</td><td>2021</td><td>48,18</td><td>53,35</td></tr>
                <tr><td>Colombia</td><td>2021</td><td>41,40</td><td>57,67</td></tr>
                <tr><td>Costa Rica</td><td>2021</td><td>41,80</td><td>54,35</td></tr>
                <tr><td>Cuba</td><td>2021</td><td>18,46</td><td>56,89</td></tr>
                <tr><td>Cabo Verde</td><td>2021</td><td>42,43</td><td>65,25</td></tr>
                <tr><td>Yibuti</td><td>2021</td><td>21,60</td><td>35,46</td></tr>
                <tr><td>República Dominicana</td><td>2020</td><td>35,45</td><td>65,46</td></tr>
                <tr><td>Argelia</td><td>2021</td><td>23,56</td><td>45,67</td></tr>
                <tr><td>Ecuador</td><td>2020</td><td>45,34</td><td>45,36</td></tr>
                <tr><td>Egipto</td><td>2021</td><td>24,45</td><td>24,46</td></tr>
                <tr><td>Etiopía</td><td>2021</td><td>34,24</td><td>46,56</td></tr>
                <tr><td>Fiyi</td><td>2021</td><td>23,35</td><td>65,43</td></tr>
                <tr><td>Micronesia</td><td>2021</td><td>12,13</td><td>24,45</td></tr>
                <tr><td>Gabón</td><td>2020</td><td>34,13</td><td>53,35</td></tr>
                <tr><td>Granada</td><td>2021</td><td>13,13</td><td>35,67</td></tr>
                <tr><td>Ghana</td><td>2021</td><td>45,23</td><td>25,45</td></tr>
                <tr><td>Guinea</td><td>2021</td><td>13,56</td><td>35,56</td></tr>
                <tr><td>Guinea Ecuatorial</td><td>2020</td><td>63,23</td><td>35,46</td></tr>
                <tr><td>Guatemala</td><td>2021</td><td>15,34</td><td>64,46</td></tr>
                <tr><td>Guinea-Bisáu</td><td>2021</td><td>23,45</td><td>34,52</td></tr>
                <tr><td>Guayana</td><td>2021</td><td>45,56</td><td>23,46</td></tr>
                <tr><td>Hong Kong</td><td>2021</td><td>32,24</td><td>34,35</td></tr>
                <tr><td>Honduras</td><td>2020</td><td>23,46</td><td>24,56</td></tr>
                <tr><td>Haití</td><td>2021</td><td>52,23</td><td>33,23</td></tr>
                <tr><td>Indonesia</td><td>2021</td><td>12,34</td><td>24,45</td></tr>
                <tr><td>Israel</td><td>2021</td><td>34,46</td><td>42,23</td></tr>
                <tr><td>India</td><td>2021</td><td>53,24</td><td>34,53</td></tr>
                <tr><td>Irak</td><td>2020</td><td>25,56</td><td>45,32</td></tr>
                <tr><td>Irán</td><td>2021</td><td>63,35</td><td>23,45</td></tr>
                <tr><td>Jamaica</td><td>2021</td><td>24,34</td><td>34,24</td></tr>
                <tr><td>Jordania</td><td>2021</td><td>45,56</td><td>23,46</td></tr>
                <tr><td>Kenia</td><td>2021</td><td>64,24</td><td>53,34</td></tr>
                <tr><td>Kirguistán</td><td>2021</td><td>24,46</td><td>23,24</td></tr>
                <tr><td>Camboya</td><td>2021</td><td>24,35</td><td>52,42</td></tr>
                <tr><td>Comoras</td><td>2021</td><td>53,24</td><td>24,44</td></tr>
                <tr><td>San Cristóbal y Nieves</td><td>2020</td><td>42,53</td><td>54,32</td></tr>
                <tr><td>Corea del Sur</td><td>2020</td><td>24,24</td><td>23,34</td></tr>
                <tr><td>Corea del Norte</td><td>2021</td><td>53,14</td><td>32,24</td></tr>
                <tr><td>Kuwait</td><td>2021</td><td>31,45</td><td>23,45</td></tr>
                <tr><td>Kazajistán</td><td>2021</td><td>41,24</td><td>53,32</td></tr>
                <tr><td>Laos</td><td>2021</td><td>42,41</td><td>23,34</td></tr>
                <tr><td>Líbano</td><td>2020</td><td>13,34</td><td>43,24</td></tr>
                <tr><td>Santa Lucía</td><td>2021</td><td>12,45</td><td>43,13</td></tr>
                <tr><td>Sri Lanka</td><td>2021</td><td>45,78</td><td>53,32</td></tr>
                <tr><td>Lesoto</td><td>2021</td><td>12,45</td><td>24,42</td></tr>
                <tr><td>Libia</td><td>2021</td><td>45,67</td><td>23,55</td></tr>
                <tr><td>Marruecos</td><td>2021</td><td>13,23</td><td>57,67</td></tr>
                <tr><td>Madagascar</td><td>2021</td><td>35,34</td><td>34,46</td></tr>
                <tr><td>Islas Marshall</td><td>2021</td><td>47,39</td><td>36,25</td></tr>
                <tr><td>Macedonia del Norte</td><td>2021</td><td>24,88</td><td>26,67</td></tr>
                <tr><td>Mali</td><td>2021</td><td>32,43</td><td>36,47</td></tr>
                <tr><td>Myanmar</td><td>2021</td><td>42,01</td><td>47,25</td></tr>
                <tr><td>Malta</td><td>2021</td><td>13,43</td><td>35,56</td></tr>
                <tr><td>Mauricio</td><td>2021</td><td>16,64</td><td>67,46</td></tr>
                <tr><td>Maldivas</td><td>2021</td><td>21,72</td><td>46,37</td></tr>
                <tr><td>Malawi</td><td>2021</td><td>43,16</td><td>35,23</td></tr>
                <tr><td>México</td><td>2021</td><td>24,95</td><td>13,34</td></tr>
                <tr><td>Malasia</td><td>2021</td><td>22,96</td><td>45,33</td></tr>
                <tr><td>Mozambique</td><td>2021</td><td>43,68</td><td>24,3</td></tr>
            </tbody>
        </table>
    </div>

    <canvas id="graficaCanvas"></canvas>

    <script>
        const dataPoblacion = [
            {pais: 'España', fecha: 2024, edad_0_14: 13.05, edad_15_64: 56.35},
            {pais: 'Alemania', fecha: 2020, edad_0_14: 13.80, edad_15_64: 45.24},
            {pais: 'Reino Unido', fecha: 2018, edad_0_14: 17.92, edad_15_64: 56.64},
            {pais: 'Francia', fecha: 2020, edad_0_14: 17.65, edad_15_64: 43.24},
            {pais: 'Italia', fecha: 2020, edad_0_14: 12.89, edad_15_64: 55.64},
            {pais: 'Portugal', fecha: 2020, edad_0_14: 13.30, edad_15_64: 65.53},
            {pais: 'Estados Unidos', fecha: 2020, edad_0_14: 18.24, edad_15_64: 56.78},
            {pais: 'Japón', fecha: 2021, edad_0_14: 11.77, edad_15_64: 56.23},
            {pais: 'China', fecha: 2021, edad_0_14: 17.67, edad_15_64: 45.56},
            {pais: 'Andorra', fecha: 2021, edad_0_14: 11.69, edad_15_64: 63.25}
            // Más datos...
        ];

        // Función para calcular la media
        function calcularMedia() {
            const edades_0_14 = dataPoblacion.map(p => p.edad_0_14);
            const edades_15_64 = dataPoblacion.map(p => p.edad_15_64);
            const media_0_14 = edades_0_14.reduce((a, b) => a + b, 0) / edades_0_14.length;
            const media_15_64 = edades_15_64.reduce((a, b) => a + b, 0) / edades_15_64.length;
            alert(`Media de 0-14 años: ${media_0_14.toFixed(2)}%\nMedia de 15-64 años: ${media_15_64.toFixed(2)}%`);
        }

        // Función para calcular la mediana
        function calcularMediana() {
            const edades_0_14 = dataPoblacion.map(p => p.edad_0_14).sort((a, b) => a - b);
            const edades_15_64 = dataPoblacion.map(p => p.edad_15_64).sort((a, b) => a - b);
            const mediana_0_14 = calcularMedianaDeLista(edades_0_14);
            const mediana_15_64 = calcularMedianaDeLista(edades_15_64);
            alert(`Mediana de 0-14 años: ${mediana_0_14.toFixed(2)}%\nMediana de 15-64 años: ${mediana_15_64.toFixed(2)}%`);
        }

        function calcularMedianaDeLista(lista) {
            const mitad = Math.floor(lista.length / 2);
            if (lista.length % 2 === 0) {
                return (lista[mitad - 1] + lista[mitad]) / 2;
            } else {
                return lista[mitad];
            }
        }

        // Función para calcular la moda
        function calcularModa() {
            const edades_0_14 = dataPoblacion.map(p => p.edad_0_14);
            const edades_15_64 = dataPoblacion.map(p => p.edad_15_64);
            const moda_0_14 = calcularModaDeLista(edades_0_14);
            const moda_15_64 = calcularModaDeLista(edades_15_64);
            alert(`Moda de 0-14 años: ${moda_0_14}%\nModa de 15-64 años: ${moda_15_64}%`);
        }

        function calcularModaDeLista(lista) {
            const frecuencia = {};
            lista.forEach(num => frecuencia[num] = (frecuencia[num] || 0) + 1);
            const moda = Object.keys(frecuencia).reduce((a, b) => frecuencia[a] > frecuencia[b] ? a : b);
            return moda;
        }

        // Mostrar el histograma
        function mostrarHistograma() {
            const edades_0_14 = dataPoblacion.map(p => p.edad_0_14);
            const edades_15_64 = dataPoblacion.map(p => p.edad_15_64);
            console.log("Histograma de 0-14 años: ", edades_0_14);
            console.log("Histograma de 15-64 años: ", edades_15_64);
            alert("Ver consola para histograma.");
        }

        // Mostrar histograma acumulado
        function mostrarHistogramaAcumulado() {
            const edades_0_14 = dataPoblacion.map(p => p.edad_0_14).sort((a, b) => a - b);
            const edades_15_64 = dataPoblacion.map(p => p.edad_15_64).sort((a, b) => a - b);
            const acumulado_0_14 = edades_0_14.map((v, i, arr) => arr.slice(0, i + 1).reduce((sum, x) => sum + x, 0));
            const acumulado_15_64 = edades_15_64.map((v, i, arr) => arr.slice(0, i + 1).reduce((sum, x) => sum + x, 0));
            console.log("Histograma acumulado de 0-14 años: ", acumulado_0_14);
            console.log("Histograma acumulado de 15-64 años: ", acumulado_15_64);
            alert("Ver consola para histograma acumulado.");
        }

        // Mostrar gráfica de pastel
        function mostrarGraficaPastel() {
            const edades_0_14 = dataPoblacion.map(p => p.edad_0_14);
            const edades_15_64 = dataPoblacion.map(p => p.edad_15_64);

            new Chart(document.getElementById('graficaCanvas'), {
                type: 'pie',
                data: {
                    labels: ['0-14 Años', '15-64 Años'],
                    datasets: [{
                        data: [
                            edades_0_14.reduce((sum, x) => sum + x, 0) / edades_0_14.length,
                            edades_15_64.reduce((sum, x) => sum + x, 0) / edades_15_64.length
                        ],
                        backgroundColor: ['#ff9999','#66b3ff'],
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            callbacks: {
                                label: function(tooltipItem) {
                                    return tooltipItem.label + ': ' + tooltipItem.raw.toFixed(2) + '%';
                                }
                            }
                        }
                    }
                }
            });
        }
    </script>

</body>
</html>
